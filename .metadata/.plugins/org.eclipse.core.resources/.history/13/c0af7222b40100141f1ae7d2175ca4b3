package kesaprojekti.remotelights;

import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

import android.app.Activity;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;
import android.widget.ArrayAdapter;
import android.widget.ListView;

public class ListActivity extends Activity {
	private static final String XML_FILE	= "settings.xml";
	private List<String>	zones;
	private List<String>	targets;
	

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_list);
		
		ListView lv = (ListView)findViewById(R.id.listView1);
		ListView lv2 = (ListView)findViewById(R.id.listView2);
		
		PullParserHandler	parser	= new PullParserHandler();
    	
    	try {
			parser.parse(getAssets().open(XML_FILE), "zonename");
		} catch (IOException e) {
			e.printStackTrace();
		}
    	
    	ArrayList<String> allZones		= new ArrayList<String>();
    	ArrayList<String> allTargets	= new ArrayList<String>();
    	
//    	ArrayList<HashMap<String, String>> wholeList = new ArrayList<HashMap<String, String>>();
//    	HashMap<String, String> map;
//    	for (int i=0; i < allTargets.size(); i++)
//    	{
//    		map = new HashMap<String, String>();
//    		map.put("Rooms", zones);
//    		map.put("Lights", targets);
//    		wholeList.add(map);
//    	}
    	
    	allZones	= parser.getNames();
    	allTargets	= parser.getAllTargets();
    	
    	
    	ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, R.layout.list_item, R.id.label, allTargets);
		lv.setAdapter(adapter);
		
		ArrayAdapter<String> adapter2 = new ArrayAdapter<String>(this, R.layout.list_item, R.id.label, allZones);
		lv2.setAdapter(adapter2);
    	
	}
}
